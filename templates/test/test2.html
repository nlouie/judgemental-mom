{% extends "layouts/layout.html" %}
{% block title %}test2{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
        input {color: black}
    </style>
{% endblock %}
{% block content %}
    <h1>Search for Artists</h1>
    <div class="">
        <p class="important">
        Spotify Call, Search for an artist!!
        </p>
        <form action="/test2" method="post">
            <input name="artist" type="text"/>
            <input type="submit" value = "submit">
        </form>
    </div>


    {% if response %}
        <h2>Your results (Page 1)</h2>
        <div class="bg-primary">
            <table class="table table-bordered">
            <tr>
                <th>Artist</th>
                <th>Genres</th>
                <th>Popularity</th>
            </tr>
            {% for artist in response %}
                <tr>
                    <td> <a href={{ artist['external_urls']['spotify'] }}>{{ artist['name'] }}</a></td>
                    <td> {{ artist['genres'] }}</td>
                    <td> {{ artist['popularity'] }}</td>
                </tr>
            {% endfor %}
            </table>
        </div>





    {%  endif %}


{% endblock %}


